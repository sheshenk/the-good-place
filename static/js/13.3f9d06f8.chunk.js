(this["webpackJsonpthe-good-place"]=this["webpackJsonpthe-good-place"]||[]).push([[13],{279:function(e,t,a){"use strict";a.r(t);var n=a(15),c=a(1),r=a.n(c),i=a(6),s=a(14),j=a(212),o=a(170),l=a(171),b=a(74),u=a(234),h=a(218),d=a(282),O=a(242),x=a(287),g=a(283),f=a(134),m=a(239),p=a(240),v=a(241),w=a(110),y=a(92),S=a(23),C=a(0),D=a(237),k=a(28),L=a(2),U=function(e){return Object(L.jsx)(j.a,{item:!0,xs:3,children:Object(L.jsx)("a",{href:e.href,children:Object(L.jsxs)(o.a,{sx:{maxWidth:"100%"},children:[Object(L.jsx)(f.a,{title:e.title,subheader:e.date}),Object(L.jsx)(m.a,{component:"img",height:"194",image:e.img,alt:""}),Object(L.jsxs)(l.a,{children:[Object(L.jsx)(b.a,{variant:"h5",color:"text.secondary",sx:{mb:2},children:""===e.author?"":"By ".concat(e.author)}),Object(L.jsx)(b.a,{variant:"body2",color:"#000",children:e.desc})]}),Object(L.jsxs)(p.a,{disableSpacing:!0,children:[Object(L.jsx)(v.a,{"aria-label":"add project",children:Object(L.jsx)(k.g,{})}),Object(L.jsx)(v.a,{"aria-label":"share",children:Object(L.jsx)(D.a,{})})]})]})})})};t.default=function(){var e=Object(y.b)(),t=e.loggedIn,a=e.checkingStatus,c=Object(C.useState)([]),o=Object(s.a)(c,2),l=o[0],b=o[1],f=Object(C.useState)(""),m=Object(s.a)(f,2),p=m[0],v=m[1],D=Object(C.useState)(""),k=Object(s.a)(D,2),E=k[0],I=k[1],J=Object(C.useState)(""),T=Object(s.a)(J,2),W=T[0],z=T[1],B=Object(C.useState)(""),F=Object(s.a)(B,2),H=F[0],N=F[1],R=Object(C.useState)(!1),V=Object(s.a)(R,2),q=V[0],A=V[1];return Object(C.useEffect)((function(){var e=function(){var e=Object(i.a)(r.a.mark((function e(){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,y.a.allStoriesFromDb((function(e){var t=e.val();b(Object.values(t))}));case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();e()}),[]),a?Object(L.jsx)(u.a,{}):t?Object(L.jsxs)(h.a,{children:[Object(L.jsxs)(w.a,{title:"Write your own story!",sx:{mb:2},children:[Object(L.jsx)("form",{noValidate:!0,autoComplete:"off",onSubmit:function(e){if(e.preventDefault(),p&&W){var t={title:p,img:E,desc:W,author:y.a.getUserName(),date:new Date(Date.now()).toLocaleString().split(",")[0],href:H};y.a.addStoryToDb(t)}else A(!0)},children:Object(L.jsxs)(j.a,{container:!0,spacing:4,children:[Object(L.jsx)(j.a,{item:!0,xs:2,children:Object(L.jsx)(d.a,{variant:"outlined",style:{width:"100%"},label:"Title",onChange:function(e){return v(e.target.value)}})}),Object(L.jsx)(j.a,{item:!0,xs:5,children:Object(L.jsx)(d.a,{variant:"outlined",style:{width:"100%"},label:"Image URL",onChange:function(e){return I(e.target.value)}})}),Object(L.jsx)(j.a,{item:!0,xs:5,children:Object(L.jsx)(d.a,{variant:"outlined",style:{width:"100%"},label:"Link to another page",onChange:function(e){return N(e.target.value)}})}),Object(L.jsx)(j.a,{item:!0,xs:12,children:Object(L.jsx)(d.a,{variant:"outlined",style:{width:"100%"},label:"Content",onChange:function(e){return z(e.target.value)},multiline:!0,rows:3})}),Object(L.jsx)(O.a,{color:"inherit",size:"large",sx:{margin:"2%",mt:3,height:50,width:"35%"},variant:"outlined",type:"submit",children:"Sign Up"})]})}),Object(L.jsx)(x.a,{open:q,autoHideDuration:3e3,message:"",onClose:function(){return A(!1)},children:Object(L.jsx)(g.a,{severity:"error",sx:{width:"100%"},children:"Enter title and body!"})})]}),Object(L.jsx)(j.a,{container:!0,spacing:2,children:l.reverse().map((function(e){return Object(L.jsx)(U,Object(n.a)({},e))}))})]}):Object(L.jsx)(S.a,{to:"/login"})}}}]);
//# sourceMappingURL=13.3f9d06f8.chunk.js.map